"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}!function(t){var e=function(){function n(t,e){_classCallCheck(this,n),this.dictionary=t||{},this.language=e||document.documentElement.lang||"en"}return _createClass(n,[{key:"dictionary",set:function(t){"object"!==_typeof(t)||Array.isArray(t)||(this._dictionary=t)},get:function(){return this._dictionary}},{key:"language",set:function(t){"string"==typeof t&&(this._language=t)},get:function(){return this._language}}]),_createClass(n,[{key:"translate",value:function(){var n,a,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e.lang||this.language,o=e.fallback||t,i=e.params||{},l=t.split("."),u=this.dictionary.hasOwnProperty(this.language);return u&&(u=1<l.filter(function(t){return 0<t.length}).length?function(t,e,n){var a=t[e],r=!0,o=!1,i=void 0;try{for(var l,u=n[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var s=l.value;if(!(a=a[s]||void 0))break}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return a}(this.dictionary,r,l):this.dictionary[r][t]),u?(n=u,a=i,Object.keys(a).forEach(function(t){var e=new RegExp("{".concat(t,"}"),"g");n=n.replace(e,a[t])}),n):o}},{key:"translateElement",value:function(t,e){if(t){var n=e||this.language,a=t.attributes["eo-translator"].value||t.textContent||t.innerText||t.innerHTML,r=(t.attributes["eo-translator-fallback"]||{value:a}).value,o=JSON.parse((t.attributes["eo-translator-params"]||{value:"{}"}).value)||{};t.textContent=this.translate(a,{lang:n,fallback:r,params:o})}}},{key:"translateDOM",value:function(t,e){var n=this,a=e||this.language;(t||document).querySelectorAll("[eo-translator]").forEach(function(t){return n.translateElement(t,a)})}}]),n}();"undefined"!=typeof exports?module.exports=e:t.EOTranslator=e}("undefined"!=typeof window?window:void 0);