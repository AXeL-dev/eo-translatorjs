"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(e){var t=function(){function n(e,t){_classCallCheck(this,n),this.dictionary=e||{},this.language=t||document.documentElement.lang||"en"}return _createClass(n,[{key:"translate",value:function(){var n,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=t.lang||this.language,r=t.fallback||e,l=t.params||{},i=e.split("."),o=null;if(1<i.filter(function(e){return 0<e.length}).length){var u=this.dictionary[a],s=!0,c=!1,f=void 0;try{for(var v,d=i[Symbol.iterator]();!(s=(v=d.next()).done);s=!0){if(!(u=u[v.value]||void 0))break}}catch(e){c=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw f}}o=u}else o=this.dictionary[a][e];return o?(n=o,Object.keys(l).forEach(function(e){var t=new RegExp("{".concat(e,"}"),"g");n=n.replace(t,l[e])}),n):r||e}},{key:"translateElement",value:function(e,t){if(e){var n=t||this.language,a=e.attributes["eo-translator"].value||e.textContent||e.innerText||e.innerHTML,r=(e.attributes["eo-translator-fallback"]||{value:a}).value,l=JSON.parse((e.attributes["eo-translator-params"]||{value:"{}"}).value)||{};e.textContent=this.translate(a,{lang:n,fallback:r,params:l})}}},{key:"translateDOM",value:function(e,t){var n=this,a=t||this.language;(e||document).querySelectorAll("[eo-translator]").forEach(function(e){return n.translateElement(e,a)})}}]),n}();"undefined"!=typeof exports?module.exports=t:e.EOTranslator=t}("undefined"!=typeof window?window:void 0);