"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}!function(t){var e=function(){function n(t,e){_classCallCheck(this,n),this.dictionary=t||{},this.language=e||document.documentElement.lang||"en"}return _createClass(n,[{key:"dictionary",set:function(t){"object"!==_typeof(t)||Array.isArray(t)||(this._dictionary=t)},get:function(){return this._dictionary}},{key:"language",set:function(t){"string"==typeof t&&(this._language=t)},get:function(){return this._language}}]),_createClass(n,[{key:"translate",value:function(){var n,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.lang||this.language,r=e.fallback||t,o=e.params||{},i=t.split("."),l=this.dictionary.hasOwnProperty(this.language);if(l)if(1<i.filter(function(t){return 0<t.length}).length){var u=this.dictionary[a],s=!0,c=!1,f=void 0;try{for(var y,g=i[Symbol.iterator]();!(s=(y=g.next()).done);s=!0){if(!(u=u[y.value]||void 0))break}}catch(t){c=!0,f=t}finally{try{s||null==g.return||g.return()}finally{if(c)throw f}}l=u}else l=this.dictionary[a][t];return l?(n=l,Object.keys(o).forEach(function(t){var e=new RegExp("{".concat(t,"}"),"g");n=n.replace(e,o[t])}),n):r}},{key:"translateElement",value:function(t,e){if(t){var n=e||this.language,a=t.attributes["eo-translator"].value||t.textContent||t.innerText||t.innerHTML,r=(t.attributes["eo-translator-fallback"]||{value:a}).value,o=JSON.parse((t.attributes["eo-translator-params"]||{value:"{}"}).value)||{};t.textContent=this.translate(a,{lang:n,fallback:r,params:o})}}},{key:"translateDOM",value:function(t,e){var n=this,a=e||this.language;(t||document).querySelectorAll("[eo-translator]").forEach(function(t){return n.translateElement(t,a)})}}]),n}();"undefined"!=typeof exports?module.exports=e:t.EOTranslator=e}("undefined"!=typeof window?window:void 0);