"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}!function(t){var e=function(){function n(t,e){_classCallCheck(this,n),this.dictionary=t||{},this.language=e||document.documentElement.lang||"en"}return _createClass(n,[{key:"dictionary",set:function(t){"object"!==_typeof(t)||Array.isArray(t)||(this._dictionary=t)},get:function(){return this._dictionary}},{key:"language",set:function(t){"string"==typeof t&&(this._language=t)},get:function(){return this._language}}]),_createClass(n,[{key:"translate",value:function(){var n,r,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.lang||this.language,o=e.fallback||t,i=e.params||{},l=t.split(".").filter(function(t){return 0<t.length}),u=this.dictionary.hasOwnProperty(this.language);return u&&(u=1<l.length?function(t,e,n){var r=t[e],a=!0,o=!1,i=void 0;try{for(var l,u=n[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value;if(!(r=r[s]||void 0))break}}catch(t){o=!0,i=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}return r}(this.dictionary,a,l):this.dictionary[a][t]),u?(n=u,r=i,Object.keys(r).forEach(function(t){var e=new RegExp("{".concat(t,"}"),"g");n=n.replace(e,r[t])}),n):o}},{key:"translateElement",value:function(t,e){if(t){var n=e||this.language,r=t.attributes["eo-translator"].value||t.textContent||t.innerText||t.innerHTML,a=(t.attributes["eo-translator-fallback"]||{value:r}).value,o=JSON.parse((t.attributes["eo-translator-params"]||{value:"{}"}).value)||{};t.textContent=this.translate(r,{lang:n,fallback:a,params:o})}}},{key:"translateDOM",value:function(t,e){var n=this,r=e||this.language;(t||document).querySelectorAll("[eo-translator]").forEach(function(t){return n.translateElement(t,r)})}},{key:"add",value:function(t,e,n){var r=e.split(".").filter(function(t,e){return 0<t.length}),a=r.pop();this.dictionary.hasOwnProperty(t)||(this.dictionary[t]={});var o=this.dictionary[t];if(0<r.length){var i=!0,l=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;o=o[f],f===r.slice(0).reverse()[0]&&(o[a]=n)}}catch(t){l=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}}else o[e]=n}},{key:"remove",value:function(){}}]),n}();"undefined"!=typeof exports?module.exports=e:t.EOTranslator=e}("undefined"!=typeof window?window:void 0);